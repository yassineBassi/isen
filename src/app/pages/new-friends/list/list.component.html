<app-header
  title="Find New Friends"
>
  <div id="end-buttons">
    <ion-button
      shape="round"
      (click)="presentSearchByModal()"
    >
      <i class="fas fa-filter"></i>
    </ion-button>
  </div>
</app-header>

<ion-item>
  <ion-label class="ml-2">Random</ion-label>
  <ion-toggle [(ngModel)]="random" (ionChange)="getNearUsers(null, true)" ></ion-toggle>
</ion-item>

<ion-content>

  <app-loader *ngIf="pageLoading" ></app-loader>

  <ion-slides #slides (ionSlideReachEnd)="getNearUsers()" *ngIf="!pageLoading && users && users.length" class="h-100" pager="false" [options]="slideOpts">
    <ion-slide class="h-100" *ngFor="let user of users">
      <app-slide [authUser]="authUser" [random]="random" class="h-100 w-100" [user]="user"></app-slide>
    </ion-slide>
  </ion-slides>

  <ion-refresher *ngIf="!showSlides" slot="fixed" pullFactor="0.5" pullMin="100" pullMax="200"  (ionRefresh)="getNearUsers($event, true)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

  <!-- <ion-card class="p-2" *ngIf="users && !users.length">
    <ion-card-subtitle>There is no friend in this area</ion-card-subtitle>
  </ion-card>

  <ion-row class="mt-1" *ngIf="users">
    <ion-col size="6" *ngFor="let user of users; let ind = index" (click)="showUser(ind)" >
      <div class="photo-container">
        <app-img-loader
          [src]="user.avatar.path"
          [style]="{
            position: 'absolute',
            top: 0,
            bottom: 0,
            left: 0,
            right: 0,
            width: '100%',
            height: '100%',
            'object-fit': 'cover',
            'object-position': 'center'
          }"
        >
        </app-img-loader>
        <div class="w-100 info-container p-2">
          <ion-label><i class="fas fa-circle online-icon mr-2"></i>{{ user.fullName }}</ion-label>
        </div>
      </div>
    </ion-col>
  </ion-row>

  <ion-infinite-scroll #infinitScroll threshold="100px" (ionInfinite)="getNearUsers($event)">
    <ion-infinite-scroll-content
      loadingSpinner="crescent"
    >
    </ion-infinite-scroll-content>
  </ion-infinite-scroll> -->
</ion-content>
