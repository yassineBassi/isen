<app-header title="New Friends" [menu]="true"></app-header>

<app-loader *ngIf="pageLoading" ></app-loader>

<ion-content>

  <ion-refresher slot="fixed" pullFactor="0.5" pullMin="100" pullMax="200"  (ionRefresh)="getNearUsers($event, true)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

  <ion-card class="p-2" *ngIf="users && !users.length">
    <ion-card-subtitle>There is no friend in this area</ion-card-subtitle>
  </ion-card>

  <ion-row class="mt-1" *ngIf="users">
    <ion-col size="6" *ngFor="let user of users; let ind = index" (click)="showUser.emit(ind)" >
      <div class="photo-container">
        <img class="w-100" [src]="user.avatar.path" alt="">
        <div class="w-100 info-container p-2">
          <ion-label><i class="fas fa-circle online-icon mr-2"></i>{{ user.fullName }}</ion-label>
        </div>
      </div>
    </ion-col>
  </ion-row>

  <ion-infinite-scroll #infinitScroll threshold="100px" (ionInfinite)="getNearUsers($event)">
    <ion-infinite-scroll-content
      loadingSpinner="crescent"
    >
    </ion-infinite-scroll-content>
  </ion-infinite-scroll>
</ion-content>
